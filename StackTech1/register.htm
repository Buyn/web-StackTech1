<!DOCTYPE html>
<head>
  <meta charset=UTF-8>
  <title>ST1 - Register</title>

  <link href=CSS/st1.css rel=stylesheet>

</head>
<body>
  <h1>Stack Tehnologies and Techniques - Authorization</h1>
  <p>I need to implement simple JS+PHP identification,
    authorization and verification.
  </p>
  <ul>
    <li> There should be minimum of 3 pages: REGISTER, login, inside.
    </li>
    <li> Each of them should first check if user logged in (by cookie in db).
    </li>
    <li> login and register should suggest logoff if he is.
    </li>
    <li> inside should redirect to login if he isn't.
    </li>
    <li> register should let user to sign up
      and then login or go login instead.
    </li>
    <li> login should let user to login or go register instead.
    </li>
    <li> inside should let work with sensitive data and log out if need arise.
    </li>
  </ul>

  <button onclick=location.href='login.htm'>   LOG IN  </button>
  <button onclick=location.href='inside.htm'>  INSIDE  </button>

  <form action=Auth/PHP/register.php method=post>
    <input size=32 maxlength=32 required name=login    placeholder="new login">
    <input size=32 maxlength=32 required name=password placeholder="new password"
           type=password>
    <input style=display:inline type=checkbox onclick=show_pass()> show password <br>
    <input style=display:inline type=submit value=REGISTER>
    <span  style=display:none> this login is already occupied </span>
  </form>

  <script src=Common/JS/functions.js></script>
  <script src=Common/JS/cookies.js  ></script>
  <script src=Auth/JS/ifsession.js  ></script>
  <script>
    if (f.APIcookie.get('check')=='occupied') {
      document.forms[0].children[5].style.display = 'inline';
      document.forms[0].children[0].value = f.APIcookie.get('login');
    }
    function show_pass() {
      var checkbox = document.forms[0].children[2];
      var pass_inp = document.forms[0].children[1];
      if (checkbox.checked) pass_inp.type = 'text';
      else                  pass_inp.type = 'password';    }
  </script>

</body>
</html>
